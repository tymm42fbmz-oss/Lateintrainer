<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Lateintrainer</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app">
    <!-- Obere Leiste (Abzeichen + Stufe + Tickets) -->
    <header class="topbar">
      <div class="levelBadge">ğŸ… Abzeichen: <span id="badgeTitleTop">â€”</span></div>
      <div class="levelBadge">âš”ï¸ Stufe: <span id="levelValue">1</span></div>
      <div class="levelBadge">ğŸ« Tickets: <span id="ticketValue">0</span></div>
    </header>

    <!-- ABZEICHEN OVERLAY -->
    <div id="badgeOverlay" class="overlay hidden" role="dialog" aria-modal="true" aria-labelledby="badgeOverlayTitle">
      <div class="overlayCard">
        <h2 id="badgeOverlayTitle">Neues Abzeichen!</h2>
        <div class="badgeBig" id="badgeOverlayEmoji">ğŸ…</div>
        <p class="overlayText" id="badgeOverlayText">Du hast ein neues Abzeichen erhalten.</p>
        <div class="actions">
          <button class="btn btnPrimary" id="btnBadgeContinue">Weiter</button>
        </div>
      </div>
    </div>

    <!-- SCREEN 1: Willkommen -->
    <section class="screen isActive" id="screen-welcome">
      <div class="card">
        <div class="banner">
          <h1>Willkommen bei deinem Lateintrainer!</h1>
        </div>

        <p class="introText">
          Als mutiger Gladiator bzw. mutige Gladiatorin wagst du dich in den Kampf gegen
          deinen Gegner! Deine einzige Waffe? â€“ Deine Lateinkenntnisse!
        </p>

        <div class="actions">
          <button class="btn btnPrimary" id="btnToRules">Weiter</button>
        </div>
      </div>
    </section>

    <!-- SCREEN 2: Regeln -->
    <section class="screen" id="screen-rules">
      <div class="card">
        <div class="banner bannerSmall">
          <h1 class="centerTitle">Regeln</h1>
        </div>

        <div class="rulesBox" id="rulesText">
          <p>Schaffst du es alle Ãœbungen fehlerfrei zu lÃ¶sen und als Sieger aus dem Duell herauszugehen?</p>
          <p><strong>Die Regeln sind ganz simpel:</strong></p>
          <ul>
            <li>Du musst 5 Fragen richtig beantworten, um eine Runde zu gewinnen</li>
            <li>Dabei klickst du einfach die fÃ¼r dich passend erscheinende LÃ¶sung an oder tippst die richtige LÃ¶sung ein.</li>
            <li>Sollte dir ein Fehler geschehen, erhÃ¤lst du eine Verletzung</li>
            <li>2 Verletzungen und du hast den Kampf verloren</li>
            <li>Solltest du jedoch siegen, wirst du gefeiert, steigst eine Stufe auf und kommst deinem nÃ¤chsten Abzeichen nÃ¤her. Doch
              Vorsicht: Deine nÃ¤chsten Gegner werden immer stÃ¤rker. Also musst
              du auch deine Lateinkenntnisse weiter ausbauen.</li>
          </ul>
          <p>
            Alles verstanden? Wenn ja, dann wÃ¼nsch ich dir viel Erfolg! MÃ¶gen dich deine
            Lateinkenntnisse vor Schaden bewahren und deinem Ansehen als tapferer
            Gladiator bzw. tapferer Galdiatorin von Nutzen sein!
          </p>
        </div>

        <div class="actions">
          <button class="btn btnPrimary" id="btnToMenu">Weiter</button>
        </div>
      </div>
    </section>

    <!-- SCREEN 3: MenÃ¼ -->
    <section class="screen" id="screen-menu">
      <div class="card">
        <div class="banner">
          <h1>Trainingsmodus auswÃ¤hlen</h1>
        </div>

        <p class="hint">WÃ¤hle aus, was du trainieren mÃ¶chtest.</p>

        <!-- Lektionen-Auswahl -->
<div class="lessonFilter">
  <div style="display:flex; align-items:center; justify-content:space-between; gap:10px;">
    <strong>ğŸ“˜ Lektionen</strong>
    <button class="btn btnGhost" id="btnToggleLessons" type="button">Auswahl</button>
  </div>

  <div id="lessonPanel" class="hidden">
    <div class="lessonRow" id="lessonRow"></div>

    <div class="actions" style="margin-top:10px;">
      <button class="btn btnGhost" id="btnLessonsAll" type="button">Alle</button>
      <button class="btn btnGhost" id="btnLessonsNone" type="button">Keine</button>
      <button class="btn btnGhost" id="btnLessons14" type="button">1â€“5</button>
      <button class="btn btnGhost" id="btnLessons58" type="button">6â€“10</button>
      <button class="btn btnGhost" id="btnLessons914" type="button">11â€“15</button>
    </div>

    <p class="smallHint" id="lessonHint"></p>
  </div>
</div>


       
        <div class="menuGrid" id="menuGrid">
          <button class="btn btnPrimary" data-mode="verben">Verben</button>
          <button class="btn btnPrimary" data-mode="substantive">Substantive</button>
          <button class="btn btnPrimary" data-mode="satzanalyse">Satzanalyse</button>

          <button class="btn btnPrimary arenaBtn" id="btnArena" data-mode="arena">ğŸ›¡ï¸ Arena</button>

          <button class="btn btnGhost" id="btnMistakes">ğŸ§© Fehler Ã¼ben (<span id="mistakeCount">0</span>)</button>
          <button class="btn btnGhost" id="btnStats">ğŸ“Š Statistik</button>

          <button class="btn btnGhost" id="btnParents">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Elternbereich</button>
         
          <button class="btn btnGhost" id="btnTeachers">ğŸ§‘â€ğŸ« LehrkrÃ¤ftebereich</button>
        </div>
      </div>

      <div class="outsideActions">
        <button class="btn btnDangerHold" id="btnResetLevel" title="Lange drÃ¼cken zum ZurÃ¼cksetzen">
          Fortschritt zurÃ¼cksetzen 
        </button>
        <div class="holdHint"></div>
      </div>
    </section>

    <!-- SCREEN 4: Spiel -->
    <section class="screen" id="screen-game">
      <div class="card">
        <div class="gameHeader">
          <h2 id="modeTitle">Modus</h2>
          <div class="statusRow">
            <div class="roundInfo">
              Runde: <span id="roundNow">1</span>/<span id="roundTotal">5</span>
              &nbsp;|&nbsp; ğŸ”¥ Streak: <span id="streakValue">0</span>
            </div>
            <div class="injuries">Verletzungen: <span id="injuryNow">0</span>/2</div>
          </div>
        </div>

        <div class="taskBox">
          <h3 id="taskTypeTitle">Aufgabe</h3>

          <div id="mcqArea" class="taskArea hidden">
            <p class="prompt" id="mcqPrompt">Promptâ€¦</p>
            <div class="options" id="mcqOptions"></div>
            <div class="actions">
              <button class="btn btnPrimary" id="btnCheckMcq">ÃœberprÃ¼fen</button>
            </div>
          </div>

          <div id="inputArea" class="taskArea hidden">
            <p class="prompt" id="inputPrompt">Promptâ€¦</p>
            <div class="fillRow">
              <input class="textInput" id="userInput" type="text" placeholder="Antwort eingebenâ€¦" />
            </div>
            <div class="actions">
              <button class="btn btnPrimary" id="btnCheckInput">ÃœberprÃ¼fen</button>
            </div>
          </div>

          <div id="analysisArea" class="taskArea hidden">
            <p class="prompt" id="analysisPrompt">Markiere â€¦</p>
            <div class="sentence" id="analysisSentence"></div>
            <p class="smallHint" id="analysisHint"></p>
            <div class="actions">
              <button class="btn btnPrimary" id="btnCheckAnalysis">ÃœberprÃ¼fen</button>
            </div>
          </div>

          <div class="feedback" id="feedbackBox" aria-live="polite"></div>
        </div>

        <div class="actions">
          <button class="btn btnGhost" id="btnBackToMenu">ZurÃ¼ck zum MenÃ¼</button>
        </div>
      </div>
    </section>

    <!-- SCREEN: Arena -->
    <section class="screen" id="screen-arena">
      <div class="card arenaCard">
        <div class="arenaHighscore" id="arenaHighscoreTop">ğŸ† Highscore: 0</div>

        <div class="banner">
          <h1>Arena</h1>
        </div>

        <p class="hint">
          Zeit: <strong><span id="arenaTime">30</span>s</strong> |
          Leben: <strong><span id="arenaLives">5</span></strong> |
          Punkte: <strong><span id="arenaScore">0</span></strong> |
          Combo: <strong>x<span id="arenaCombo">1</span></strong><br>
          <strong id="arenaTarget">Fange: â€¦</strong>
        </p>

        <div style="display:flex; justify-content:center; margin-top:10px;">
          <canvas id="arenaCanvas" width="520" height="360"
            style="border-radius:16px; border:2px solid rgba(0,0,0,0.10);"></canvas>
        </div>

        <div class="feedback" id="arenaFeedback" aria-live="polite"></div>

        <div class="actions">
          <button class="btn btnGhost" id="btnArenaExit">ZurÃ¼ck zum MenÃ¼</button>
        </div>
      </div>
    </section>

    <!-- SCREEN: Fehler Ã¼ben -->
    <section class="screen" id="screen-mistakes">
      <div class="card">
        <div class="banner">
          <h1>Fehler Ã¼ben</h1>
        </div>

        <p class="hint" id="mistakesHint">
          Hier sind alle Aufgaben, die du bisher falsch gelÃ¶st hast. Eine Aufgabe verschwindet erst,
          wenn du sie hier richtig lÃ¶st.
        </p>

        <div class="taskBox">
          <h3 id="mistakesTitle">â€”</h3>

          <div id="mistakesMcqArea" class="taskArea hidden">
            <p class="prompt" id="mistakesMcqPrompt">â€”</p>
            <div class="options" id="mistakesMcqOptions"></div>
            <div class="actions">
              <button class="btn btnPrimary" id="btnMistakesCheckMcq">ÃœberprÃ¼fen</button>
            </div>
          </div>

          <div id="mistakesInputArea" class="taskArea hidden">
            <p class="prompt" id="mistakesInputPrompt">â€”</p>
            <div class="fillRow">
              <input class="textInput" id="mistakesUserInput" type="text" placeholder="Antwort eingebenâ€¦" />
            </div>
            <div class="actions">
              <button class="btn btnPrimary" id="btnMistakesCheckInput">ÃœberprÃ¼fen</button>
            </div>
          </div>

          <div id="mistakesAnalysisArea" class="taskArea hidden">
            <p class="prompt" id="mistakesAnalysisPrompt">â€”</p>
            <div class="sentence" id="mistakesAnalysisSentence"></div>
            <p class="smallHint" id="mistakesAnalysisHint"></p>
            <div class="actions">
              <button class="btn btnPrimary" id="btnMistakesCheckAnalysis">ÃœberprÃ¼fen</button>
            </div>
          </div>

          <div class="feedback" id="mistakesFeedback" aria-live="polite"></div>
        </div>

        <div class="actions">
          <button class="btn btnGhost" id="btnMistakesBack">ZurÃ¼ck zum MenÃ¼</button>
        </div>
      </div>
    </section>

    <!-- SCREEN: Statistik -->
    <section class="screen" id="screen-stats">
      <div class="card">
        <div class="banner">
          <h1>Statistik</h1>
        </div>

        <p class="hint">
          Ãœbungstage: <strong><span id="statsDays">0</span></strong>
        </p>

        <div class="rulesBox" id="statsBox"></div>

        <div class="actions">
          <button class="btn btnGhost" id="btnStatsBack">ZurÃ¼ck zum MenÃ¼</button>
        </div>
      </div>
    </section>

    <!-- SCREEN: Elternbereich (FAQ) -->
    <section class="screen" id="screen-parents">
      <div class="card">
        <div class="banner">
          <h1>Elternbereich</h1>
        </div>

        <p class="hint">
          FAQ â€“ klicke auf eine Frage, um die Antwort zu sehen.
        </p>

        <div class="rulesBox" id="parentsFaq"></div>

        <div class="actions">
          <button class="btn btnGhost" id="btnParentsBack">ZurÃ¼ck zum MenÃ¼</button>
        </div>
      </div>
    </section>

    <!-- SCREEN: LehrkrÃ¤ftebereich (PIN) -->
    <section class="screen" id="screen-teachers">
      <div class="card">
        <div class="banner">
          <h1>LehrkrÃ¤ftebereich</h1>
        </div>

        <div class="rulesBox">
          <div id="teacherLocked">
            <p><strong>PIN erforderlich</strong></p>
            <p class="smallHint">Dieser Bereich ist geschÃ¼tzt.</p>

            <div class="fillRow" style="margin-top:10px;">
              <input class="textInput" id="teacherPinInput" type="password" inputmode="numeric" placeholder="PIN eingebenâ€¦" />
            </div>

            <div class="actions">
              <button class="btn btnPrimary" id="btnTeacherUnlock">Entsperren</button>
            </div>

            <div class="feedback" id="teacherPinFeedback" aria-live="polite"></div>
          </div>

          <div id="teacherUnlocked" class="hidden">
            <p><strong>âœ… Entsperrt</strong></p>
            <p class="smallHint">
              Hier kann man spÃ¤ter z. B. Aufgaben verwalten, LÃ¶sungen ansehen...
    
            </p>

            <hr style="border:none;border-top:2px solid rgba(0,0,0,0.06); margin:12px 0;">

            <p><strong>PIN Ã¤ndern</strong></p>
            <div class="fillRow" style="margin-top:10px;">
              <input class="textInput" id="teacherNewPin" type="password" inputmode="numeric" placeholder="Neuen PIN setzenâ€¦" />
            </div>
            <div class="actions">
              <button class="btn btnPrimary" id="btnTeacherSavePin">PIN speichern</button>
              <button class="btn btnGhost" id="btnTeacherLock">Sperren</button>
            </div>

            <div class="feedback" id="teacherAreaFeedback" aria-live="polite"></div>
          </div>
        </div>

        <div class="actions">
          <button class="btn btnGhost" id="btnTeachersBack">ZurÃ¼ck zum MenÃ¼</button>
        </div>
      </div>
    </section>

    <!-- SCREEN 5: Niederlage -->
    <section class="screen" id="screen-lose">
      <div class="card">
        <div class="banner bannerDanger">
          <h1>Schade! ğŸ˜•</h1>
        </div>

        <p class="hint" id="loseText">
          Du hast zu viele Verletzungen erlitten. Versuche es erneut!
        </p>

        <div class="rulesBox" id="solutionBox" style="display:none;">
          <p><strong>Richtige LÃ¶sung:</strong> <span id="solutionAnswer"></span></p>
          <p id="solutionExplain"></p>
        </div>

        <div class="actions">
          <button class="btn btnPrimary" id="btnLoseToMenu">Zum MenÃ¼</button>
        </div>
      </div>
    </section>

    <!-- SCREEN 6: Sieg -->
    <section class="screen" id="screen-win">
      <div class="card">
        <div class="banner bannerWin">
          <h1>Du hast gewonnen! ğŸ‰</h1>
        </div>
        <p class="hint" id="winText">
          Du bist 1 Level aufgestiegen! ğŸ‰<br>
          Du kannst stolz auf deine Lateinkenntnisse sein!
        </p>
        <div class="actions">
          <button class="btn btnPrimary" id="btnWinToMenu">Zum MenÃ¼</button>
        </div>
      </div>
    </section>

    <footer style="text-align:center; margin-top:14px; opacity:0.75; font-size:12px;">
      Â© <span id="copyrightYear"></span> Dein Lateintrainer â€“ Isabella Hauenstein
    </footer>
  </div>

  <script src="app.js"></script>
</body>
</html>
